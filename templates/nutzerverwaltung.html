<h2>Nutzerverwaltung</h2>

<form method="get" action="{{ url_for('benutzer_erstellen') }}">
    <button type="submit">â• Benutzer hinzufÃ¼gen</button>
</form>

{#
<form method="get" action="{{ url_for('aktuellen_benutzer_wechseln') }}">
    <button type="submit">ğŸ”„ï¸ Benutzer wechseln</button>
</form>
#}

<table border="1" cellpadding="6">
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Email</th>
        <th>Rolle</th>
        <th>Aktion</th>
    </tr>
    {% for benutzer in benutzer_liste %}
    <tr>
        <td>{{ benutzer.id }}</td>
        <td>{{ benutzer.name }}</td>
        <td>{{ benutzer.email }}</td>
        <td>{{ benutzer.__class__.__name__ }}</td>
        <td>
            <form method="post" action="{{ url_for('rolle_aendern') }}">
                <input type="hidden" name="benutzer_id" value="{{ benutzer.id }}">
                <select name="neue_rolle">
                    <option value="">-- Bitte auswÃ¤hlen --</option>
                    <option value="Studierende">Studierende</option>
                    <option value="Lehrende">Lehrende</option>
                    <option value="Admin">Admin</option>
                </select>
                <button type="submit">Rolle Ã¤ndern</button>
            </form>
            <form method="post" action="{{ url_for('benutzer_loeschen') }}">
                <input type="hidden" name="benutzer_id" value="{{ benutzer.id }}">
                <button type="submit" onclick="return confirm('Benutzer wirklich lÃ¶schen?')">LÃ¶schen</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>

{% with messages = get_flashed_messages() %}
    {% if messages %}
        <div style="background-color: #fff8dc; border: 1px solid #daa520; padding: 0.5em; border-radius: 4px;">
            {% for msg in messages %}
                <strong>{{ msg }}</strong>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}

<!-- zurrÃ¼ck zur Ãœbersicht navigieren -->
<a href="{{ url_for('uebersicht') }}">â† ZurÃ¼ck zur Ãœbersicht</a>
